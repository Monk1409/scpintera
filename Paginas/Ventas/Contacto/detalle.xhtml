<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:f="http://java.sun.com/jsf/core">  
    <h:head>
        <h:outputStylesheet library="css" name="skins.css"/>
        <script type="text/javascript">
            function cierraVentana() {                
                location.href = "filtro.xhtml?titulo=Infomación de contacto";
            }
        </script>
    </h:head>
    <h:body>   
        <h:form id="datos">
            <c:set property="out" target="#{paginaTitulo}" value="#{prospectoContactoDetalle.titulo}"/>
            <h:outputText id="titulo" escape="false" value="#{paginaTitulo.out}"/>
            <p:spacer width="10" height="10" />
            <p:panel id="panel" header="Información de contacto">
                <p:messages id="msgs" showDetail="true" redisplay="false"/>
                <h:panelGrid columns="6" style="margin: 0 auto;" cellpadding="5">
                    <p:outputLabel style="font-weight: bold;" value="Nombre(s):"/>
                    <p:inputText id="nombre" value="#{prospectoContactoDetalle.registro.nombres}" 
                                 style="width: 300px; text-transform: uppercase" maxlength="50"
                                 required="true" requiredMessage="Por favor escriba un nombre de contacto."
                                 validatorMessage="El nombre de contacto es muy corto.">
                        <f:validateLength minimum="2" />                      
                    </p:inputText> 
                    <p:message for="nombre" />
                    <p:outputLabel style="font-weight: bold;" value="Empresa:"/>
                    <p:inputText id="empresa" value="#{prospectoContactoDetalle.registro.empresa}" 
                                 style="width: 300px; text-transform: uppercase" maxlength="50"
                                 required="true" requiredMessage="Por favor escriba el nombre de la empresa donde trabaja el contacto."
                                 validatorMessage="El nombre de la empresa es muy corto.">
                        <f:validateLength minimum="3" />                      
                    </p:inputText> 
                    <p:message for="empresa" />
                    <p:outputLabel style="font-weight: bold;" value="Apellido paterno:"/>
                    <p:inputText id="app" value="#{prospectoContactoDetalle.registro.apellidoPat}" 
                                 style="width: 300px; text-transform: uppercase" maxlength="50"
                                 required="true" requiredMessage="Por favor escriba el appellido paterno del contacto."
                                 validatorMessage="El apellido paterno del contacto es muy corto.">
                        <f:validateLength minimum="2" />
                    </p:inputText> 
                    <p:message for="app" />
                    <p:outputLabel style="font-weight: bold;" value="Ubicación:"/>
                    <p:inputText id="ubicacion" value="#{prospectoContactoDetalle.registro.ubicacion}" 
                                 style="width: 300px; text-transform: uppercase" maxlength="50"
                                 required="true" requiredMessage="Por favor escriba la ubicación de la empresa."
                                 validatorMessage="La ubicación es muy corta.">
                        <f:validateLength minimum="3" />                      
                    </p:inputText> 
                    <p:message for="ubicacion" />
                    <p:outputLabel style="font-weight: bold;" value="Apellido materno:"/>
                    <p:inputText id="apm" value="#{prospectoContactoDetalle.registro.apellidoMat}" 
                                 style="width: 300px; text-transform: uppercase" maxlength="50"                                 
                                 validatorMessage="El apellido materno del contacto es muy corto.">
                        <f:validateLength minimum="2" />
                    </p:inputText> 
                    <p:message for="apm" />
                    <p:outputLabel style="font-weight: bold;" value="Dirección:"/>
                    <p:inputText id="direccion" value="#{prospectoContactoDetalle.registro.direccion}" 
                                 style="width: 300px; text-transform: uppercase" maxlength="50"
                                 required="true" requiredMessage="Por favor escriba la dirección de la empresa."
                                 validatorMessage="La dirección es muy corta.">
                        <f:validateLength minimum="3" />                      
                    </p:inputText> 
                    <p:message for="direccion" />
                    <p:outputLabel style="font-weight: bold;" value="Género:"/>
                    <p:selectOneRadio id="genero" value="#{prospectoContactoDetalle.valorGenero}">
                        <f:selectItem itemLabel="Mujer" itemValue="2" />
                        <f:selectItem itemLabel="Hombre" itemValue="1" />
                    </p:selectOneRadio>
                    <p:spacer width="10" />
                    <p:outputLabel style="font-weight: bold;" value="Giro:"/>
                    <p:inputText id="giro" value="#{prospectoContactoDetalle.registro.giro}" 
                                 style="width: 300px; text-transform: uppercase" maxlength="50"
                                 required="true" requiredMessage="Por favor escriba el giro de la empresa."
                                 validatorMessage="El giro es muy corto.">
                        <f:validateLength minimum="3" />                      
                    </p:inputText> 
                    <p:message for="giro" />
                    <p:outputLabel style="font-weight: bold;" value="Correo electrónico:"/>
                    <p:inputText id="email" value="#{prospectoContactoDetalle.registro.email}" 
                                 style="width: 300px; text-transform: lowercase" maxlength="60"
                                 required="true" requiredMessage="Por favor escriba un correo electrónico válido."
                                 validatorMessage="Correo electrónico inválido.">
                        <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                    </p:inputText>
                    <p:message for="email" />
                    <p:spacer width="10" /><p:spacer width="10" /><p:spacer width="10" />
                    <p:outputLabel style="font-weight: bold;" value="Teléfono fijo:"/>
                    <p:inputMask id="telefono" value="#{prospectoContactoDetalle.registro.telefono}" 
                                 style="width: 300px; text-transform: lowercase" maxlength="50"
                                 required="true" requiredMessage="Por favor escriba un teléfono válido."
                                 mask="(999) 999-9999? ext 99999"/>
                    <p:message for="telefono" />
                    <p:spacer width="10" /><p:spacer width="10" /><p:spacer width="10" />
                    <p:outputLabel style="font-weight: bold;" value="Teléfono móvil:"/>
                    <p:inputMask id="telefonoMov" value="#{prospectoContactoDetalle.registro.telefonoMov}" 
                                 style="width: 300px; text-transform: lowercase" maxlength="50"
                                 required="true" requiredMessage="Por favor escriba un teléfono válido."
                                 mask="(999) 999-9999?"/>
                    <p:message for="telefonoMov" />
                </h:panelGrid>
            </p:panel>
            <p:spacer width="10" height="10"/>
            <p:separator/>
            <p:spacer width="10" height="10"/>
            <h:panelGrid columns="3" style="text-align: center; margin: 0 auto">
                <p:commandButton id="agregar" value="#{prospectoContactoDetalle.modificar == 'true' ? 'Modificar' : 'Agregar'}" 
                                 icon="#{prospectoContactoDetalle.modificar == 'true' ? 'ui-icon-pencil' : 'ui-icon-check'}" update="panel" actionListener="#{prospectoContactoDetalle.aceptar}"/>
                <p:commandButton id="regresar" value="Regresar" type="button" onclick="cierraVentana();"/>
            </h:panelGrid>
            <p:blockUI block="datos" widgetVar="bloqueo" trigger="agregar">
                Cargando información, espere un momento por favor...<br/>
                <br/> 
                <p:graphicImage width="45" height="45" value="/Librerias/Imagenes/Base/loading.gif"/> 
            </p:blockUI>
        </h:form>        
    </h:body>
</html>